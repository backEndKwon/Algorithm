/* 
ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´

ë°©ì‹
1. 2ë¶€í„° nê¹Œì§€ ìˆ˜ ì¤‘ ê°€ì¥ ì‘ì€ ìˆ˜ = 2
2. 2ì˜ ë°°ìˆ˜ë¥¼ ëª¨ë‘ ì§€ìš´ë‹¤.
3. ê·¸ ë‹¤ìŒ ê°€ì¥ ì‘ì€ ìˆ˜ = 3
4. 3ì˜ ë°°ìˆ˜ë¥¼ ëª¨ë‘ ì§€ìš´ë‹¤.
5. ê·¸ ë‹¤ìŒ ê°€ì¥ ì‘ì€ ìˆ˜ = 5
6. 5ì˜ ë°°ìˆ˜ë¥¼ ëª¨ë‘ ì§€ìš´ë‹¤. 
 ìœ„ì˜ ë°©ì‹ ë°˜ë³µ
*/
// ê¸°ë³¸ì ìœ¼ë¡œ nê¹Œì§€ ëª‡ê°œì˜ ì†Œìˆ˜ê°€ ìˆëŠ”ì§€ êµ¬í•˜ëŠ” ë°©ì‹

const input = 50000; // 5ê¹Œì§€ì˜ ì†Œìˆ˜ê°¯ìˆ˜ëŠ” 2,3,5 3ê°œ
const eratosthenes = (n) => {
  // 1. 2ë¶€í„° nê¹Œì§€ì˜ ìˆ˜(ëŒ€ì‹  true)ë¥¼ ë°°ì—´ì— ë„£ê¸°

  const arr = new Array(n + 1).fill(true); // O(n)

  arr[0] = arr[1] = false; // 0,1ì€ ì†Œìˆ˜ê°€ ì•„ë‹ˆë¯€ë¡œ falseë¡œ ë°”ê¾¸ê¸°
  // 2. 2ë¶€í„° ì‹œì‘í•´ì„œ ê·¸ ë°°ìˆ˜ë“¤ì„ ëª¨ë‘ ì§€ìš°ê¸°
  for (let i = 2; i * i <= n; i++) { // O(nlog(log(n)))
    if (arr[i]) {
      // 2-1. ë§Œì•½ arr[i]ê°€ trueë¼ë©´ falseë¡œ ë°”ê¾¸ê¸°
      for (let j = i * i; j <= n; j += i) {
        arr[j] = false;
      }
    }
  }
  // console.log("ğŸ‘‰ ~ arr:", arr);
  // 3. trueì¸ ê²ƒë“¤ì˜ ê°¯ìˆ˜ë¥¼ ì„¸ê¸°
  let count = 0;
  for (let i = 0; i < arr.length; i++) {
    if (arr[i]) count++;
  }
  return count;
};
console.log(eratosthenes(input));
